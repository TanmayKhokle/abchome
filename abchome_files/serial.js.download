AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(t){this.type="serial",AmCharts.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.createEvents("changed"),this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8,this.updateScrollbar=!0;var e=new AmCharts.CategoryAxis(t);e.chart=this,this.categoryAxis=e,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,AmCharts.applyTheme(this,t,this.cname)},initChart:function(){AmCharts.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),(e=this.chartCursor)&&(e.updateData(),e.fullWidth&&(e.fullRectSet=this.cursorLineSet));var t,e=this.countColumns(),i=this.graphs;for(t=0;t<i.length;t++)i[t].columnCount=e;this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(t,e){if(!this.wheelBusy){var i=this.categoryAxis,s=i.parseDates,a=i.minDuration(),h=i=1;this.mouseWheelZoomEnabled?e||(i=-1):e&&(i=-1);var r=this.chartData.length,o=this.lastTime,n=this.firstTime;0>t?s?(r=this.endTime-this.startTime,s=this.startTime+i*a,a=this.endTime+h*a,0<h&&0<i&&a>=o&&(a=o,s=o-r),this.zoomToDates(new Date(s),new Date(a))):(0<h&&0<i&&this.end>=r-1&&(i=h=0),s=this.start+i,a=this.end+h,this.zoomToIndexes(s,a)):s?(r=this.endTime-this.startTime,s=this.startTime-i*a,a=this.endTime-h*a,0<h&&0<i&&s<=n&&(s=n,a=n+r),this.zoomToDates(new Date(s),new Date(a))):(0<h&&0<i&&1>this.start&&(i=h=0),s=this.start-i,a=this.end-h,this.zoomToIndexes(s,a))}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){AmCharts.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(AmCharts.ifArray(t)){if((i=this.chartScrollbar)&&i.draw(),0<this.realWidth&&0<this.realHeight){var e,i;t=t.length-1;(i=this.categoryAxis).parseDates&&!i.equalSpacing?(i=this.startTime,e=this.endTime,(isNaN(i)||isNaN(e))&&(i=this.firstTime,e=this.lastTime)):(i=this.start,e=this.end,(isNaN(i)||isNaN(e))&&(i=0,e=t)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(i,e)}}else this.cleanChart();this.dispDUpd(),this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.axisRenderer=AmCharts.RecAxis,t.guideFillRenderer=AmCharts.RecFill,t.axisItemRenderer=AmCharts.RecItem,t.setOrientation(!this.rotate),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.viW=this.plotAreaWidth-1,t.viH=this.plotAreaHeight-1,t.viX=this.marginLeftReal,t.viY=this.marginTopReal,t.marginsChanged=!0},updateValueAxes:function(){AmCharts.AmSerialChart.base.updateValueAxes.call(this);var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t],s=this.rotate;i.rotate=s,i.setOrientation(s),(s=this.categoryAxis).startOnAxis&&!s.parseDates||(i.expandMinMax=!0)}},updateData:function(){this.parseData();var t,e=this.graphs,i=this.chartData;for(t=0;t<e.length;t++)e[t].data=i;0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time))},getStartTime:function(t){var e=this.categoryAxis;return AmCharts.resetDateToMin(new Date(t),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(t){var e=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(t),e.period,e.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate))},updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(t,e):this.indexZoom(t,e),this.updateLegendValues()},timeZoom:function(t,e){var i=this.maxSelectedTime;(isNaN(i)||(e!=this.endTime&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.startTime&&e-t>i&&(e=t+i,this.updateScrollbar=!0)),0<(r=this.minSelectedTime)&&e-t<r)&&(t=(a=Math.round(t+(e-t)/2))-(r=Math.round(r/2)),e=a+r);var s=this.chartData,a=this.categoryAxis;if(AmCharts.ifArray(s)&&(t!=this.startTime||e!=this.endTime)){var h=a.minDuration(),r=this.firstTime,o=this.lastTime;t||(t=r,isNaN(i)||(t=o-i)),e||(e=o),t>o&&(t=o),e<r&&(e=r),t<r&&(t=r),e>o&&(e=o),e<t&&(e=t+h),e-t<h/5&&(e<o?e=t+h/5:t=e-h/5),this.startTime=t,this.endTime=e,i=s.length-1,h=this.getClosestIndex(s,"time",t,!0,0,i),s=this.getClosestIndex(s,"time",e,!1,h,i),a.timeZoom(t,e),a.zoom(h,s),this.start=AmCharts.fitToBounds(h,0,i),this.end=AmCharts.fitToBounds(s,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),t!=r||e!=o?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},indexZoom:function(t,e){var i=this.maxSelectedSeries;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,this.updateScrollbar=!0),t!=this.start&&e-t>i&&(e=t+i,this.updateScrollbar=!0)),t!=this.start||e!=this.end){var s=this.chartData.length-1;isNaN(t)&&(t=0,isNaN(i)||(t=s-i)),isNaN(e)&&(e=s),e<t&&(e=t),e>s&&(e=s),t>s&&(t=s-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){AmCharts.AmSerialChart.base.updateGraphs.call(this);var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.columnWidthReal=this.columnWidth,i.categoryAxis=this.categoryAxis,AmCharts.isString(i.fillToGraph)&&(i.fillToGraph=this.getGraphById(i.fillToGraph))}},updateColumnsDepth:function(){var t,e,i=this.graphs;for(AmCharts.remove(this.columnsSet),this.columnsArray=[],t=0;t<i.length;t++){var s,a=(e=i[t]).columnsArray;if(a)for(s=0;s<a.length;s++)this.columnsArray.push(a[s])}if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(i=this.container.set(),this.columnSet.push(i),t=0;t<this.columnsArray.length;t++)i.push(this.columnsArray[t].column.set);e&&i.translate(e.x,e.y),this.columnsSet=i}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;t&&this.updateScrollbar&&(t.dragger.stop(),e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i=AmCharts.processObject(i,AmCharts.TrendLine,this.theme);e[t]=i,i.chart=this,i.id||(i.id="trendLineAuto"+t+"_"+(new Date).getTime()),AmCharts.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines(),(t=this.chartCursor)&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var t,e,i,s,a=0,h=this.valueAxes.length,r=this.graphs.length,o=!1;for(s=0;s<h;s++){var n=(e=this.valueAxes[s]).stackType;if("100%"==n||"regular"==n)for(o=!1,i=0;i<r;i++)(t=this.graphs[i]).tcc=1,t.valueAxis==e&&"column"==t.type&&(!o&&t.stackable&&(a++,o=!0),(!t.stackable&&t.clustered||t.newStack)&&a++,t.columnIndex=a-1,t.clustered||(t.columnIndex=0));if("none"==n||"3d"==n){for(o=!1,i=0;i<r;i++)(t=this.graphs[i]).valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(a=0),t.hidden||(t.columnIndex=a,a++)):t.hidden||(o=!0,t.tcc=1,t.columnIndex=0));o&&0==a&&(a=1)}if("3d"==n){for(e=1,s=0;s<r;s++)(t=this.graphs[s]).newStack&&e++,t.depthCount=e,t.tcc=a;a=e}}return a},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this),this.parseSerialData()},getCategoryIndexByValue:function(t){var e,i,s=this.chartData;for(i=0;i<s.length;i++)s[i].category==t&&(e=i);return e},handleCursorChange:function(t){this.updateLegendValues(t.index)},handleCursorZoom:function(t){this.updateScrollbar=!0,this.zoom(t.start,t.end)},handleScrollbarZoom:function(t){this.updateScrollbar=!1,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var e=this.categoryAxis,i=AmCharts.extractPeriod(e.minPeriod).period;e=e.dateFormatsObject[i];t.startValue=AmCharts.formatDate(t.startDate,e,this),t.endValue=AmCharts.formatDate(t.endDate,e,this),t.chart=this,t.target=this,this.fire(t.type,t)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(AmCharts.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var e={chart:this,target:this,type:"zoomed"};e.startIndex=this.start,e.endIndex=this.end,e.startValue=t[this.start].category,e.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e.type,e)}}},updateLegendValues:function(t){var e,i=this.graphs;for(e=0;e<i.length;e++){var s=i[e];isNaN(t)?s.currentDataItem=void 0:s.currentDataItem=this.chartData[t].axes[s.valueAxis.id].graphs[s.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,s,a,h){0>a&&(a=0),h>t.length-1&&(h=t.length-1);var r=a+Math.round((h-a)/2),o=t[r][e];return 1>=h-a?s?a:(s=t[h][e],Math.abs(t[a][e]-i)<Math.abs(s-i)?a:h):i==o?r:i<o?this.getClosestIndex(t,e,i,s,a,r):this.getClosestIndex(t,e,i,s,r,h)},zoomToIndexes:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(i){var s=i.length;0<s&&(0>t&&(t=0),e>s-1&&(e=s-1),(s=this.categoryAxis).parseDates&&!s.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(t,e){this.updateScrollbar=!0;var i=this.chartData;if(this.categoryAxis.equalSpacing){var s=this.getClosestIndex(i,"time",t.getTime(),!0,0,i.length);e=AmCharts.resetDateToMin(e,this.categoryAxis.minPeriod,1),i=this.getClosestIndex(i,"time",e.getTime(),!1,0,i.length),this.zoom(s,i)}else this.zoom(t.getTime(),e.getTime())},zoomToCategoryValues:function(t,e){this.updateScrollbar=!0,this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(t,e){if(e){var i=["value","open","low","high","close"],s="value open low high close average sum count".split(" "),a=e.valueAxis,h=this.chartData,r=e.numberFormatter;r||(r=this.nf);for(var o=0;o<i.length;o++){for(var n,d,m,l,c,u,g,p,A,f,C=i[o],x=0,D=0,v=0,T=0,b=this.start;b<=this.end;b++){var y=h[b];if(y&&(y=y.axes[a.id].graphs[e.id])){if(y.values){var M=y.values[C];if(this.rotate?(0>y.x||y.x>y.graph.height)&&(M=NaN):(0>y.x||y.x>y.graph.width)&&(M=NaN),!isNaN(M)){isNaN(n)&&(n=M),d=M,(isNaN(m)||m>M)&&(m=M),(isNaN(l)||l<M)&&(l=M),c=AmCharts.getDecimals(x);var N=AmCharts.getDecimals(M);x=x+M;c=(x=AmCharts.roundTo(x,Math.max(c,N)))/++D}}y.percents&&(y=y.percents[C],!isNaN(y))&&(isNaN(u)&&(u=y),g=y,(isNaN(p)||p>y)&&(p=y),(isNaN(A)||A<y)&&(A=y),f=AmCharts.getDecimals(v),M=AmCharts.getDecimals(y),v+=y,f=(v=AmCharts.roundTo(v,Math.max(f,M)))/++T)}}v={open:u,close:g,high:A,low:p,average:f,sum:v,count:T},t=AmCharts.formatValue(t,{open:n,close:d,high:l,low:m,average:c,sum:x,count:D},s,r,C+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=AmCharts.formatValue(t,v,s,this.pf,"percents\\."+C+"\\.")}}return AmCharts.cleanFromEmpty(t)},formatString:function(t,e,i){var s=e.graph;if(-1!=t.indexOf("[[category]]")){var a=e.serialDataItem.category;if(this.categoryAxis.parseDates){var h=this.balloonDateFormat,r=this.chartCursor;r&&(h=r.categoryBalloonDateFormat),-1!=t.indexOf("[[category]]")&&(-1!=(h=AmCharts.formatDate(a,h,this)).indexOf("fff")&&(h=AmCharts.formatMilliseconds(h,a)),a=h)}t=t.replace(/\[\[category\]\]/g,String(a))}return(s=s.numberFormatter)||(s=this.nf),(h=(a=e.graph.valueAxis).duration)&&!isNaN(e.values.value)&&(a=AmCharts.formatDuration(e.values.value,h,"",a.durationUnits,a.maxInterval,s),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),a)),a="value open low high close total".split(" "),h=this.pf,t=AmCharts.formatValue(t,e.percents,a,h,"percents\\."),t=AmCharts.formatValue(t,e.values,a,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=AmCharts.formatValue(t,e.values,["percents"],h)).indexOf("[[")&&(t=AmCharts.formatDataContextValue(t,e.dataContext)),AmCharts.AmSerialChart.base.formatString.call(this,t,e,i)},addChartScrollbar:function(t){AmCharts.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),this.chartScrollbar=t},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},handleReleaseOutside:function(t){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,t),AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}}),AmCharts.Cuboid=AmCharts.Class({construct:function(t,e,i,s,a,h,r,o,n,d,m,l,c,u,g,p,A){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=s,this.dy=a,this.colors=h,this.alpha=r,this.bwidth=o,this.bcolor=n,this.balpha=d,this.dashLength=u,this.topRadius=p,this.pattern=g,this.rotate=c,this.bcn=A,c?0>e&&0===m&&(m=180):0>i&&270==m&&(m=90),this.gradientRotation=m,0===s&&0===a&&(this.cornerRadius=l),this.draw()},draw:function(){var t=this.set;t.clear();var e=this.container,i=e.chart,s=this.w,a=this.h,h=this.dx,r=this.dy,o=this.colors,n=this.alpha,d=this.bwidth,m=this.bcolor,l=this.balpha,c=this.gradientRotation,u=this.cornerRadius,g=this.dashLength,p=this.pattern,A=this.topRadius,f=this.bcn,C=o,x=o;"object"==typeof o&&(C=o[0],x=o[o.length-1]);var D,v,T,b,y,M,N,S,w,I=n;p&&(n=0);var P,W,R,F,L=this.rotate;if(0<Math.abs(h)||0<Math.abs(r))if(isNaN(A))N=x,x=AmCharts.adjustLuminosity(C,-.2),x=AmCharts.adjustLuminosity(C,-.2),D=AmCharts.polygon(e,[0,h,s+h,s,0],[0,r,r,0,0],x,n,1,m,0,c),0<l&&(w=AmCharts.line(e,[0,h,s+h],[0,r,r],m,l,d,g)),(v=AmCharts.polygon(e,[0,0,s,s,0],[0,a,a,0,0],x,n,1,m,0,c)).translate(h,r),0<l&&(T=AmCharts.line(e,[h,h],[r,r+a],m,l,d,g)),b=AmCharts.polygon(e,[0,0,h,h,0],[0,a,a+r,r,0],x,n,1,m,0,c),y=AmCharts.polygon(e,[s,s,s+h,s+h,s],[0,a,a+r,r,0],x,n,1,m,0,c),0<l&&(M=AmCharts.line(e,[s,s+h,s+h,s],[0,r,a+r,a],m,l,d,g)),x=AmCharts.adjustLuminosity(N,.2),N=AmCharts.polygon(e,[0,h,s+h,s,0],[a,a+r,a+r,a,a],x,n,1,m,0,c),0<l&&(S=AmCharts.line(e,[0,h,s+h],[a,a+r,a+r],m,l,d,g));else{var O,Y,z;L?(O=a/2,x=h/2,z=a/2,Y=s+h/2,W=Math.abs(a/2),P=Math.abs(h/2)):(x=s/2,O=r/2,Y=s/2,z=a+r/2+1,P=Math.abs(s/2),W=Math.abs(r/2)),R=P*A,F=W*A,.1<P&&.1<P&&(D=AmCharts.circle(e,P,C,n,d,m,l,!1,W)).translate(x,O),.1<R&&.1<R&&(N=AmCharts.circle(e,R,AmCharts.adjustLuminosity(C,.5),n,d,m,l,!1,F)).translate(Y,z)}for(n=I,1>Math.abs(a)&&(a=0),1>Math.abs(s)&&(s=0),!isNaN(A)&&(0<Math.abs(h)||0<Math.abs(r))?(o={fill:o=[C],stroke:m,"stroke-width":d,"stroke-opacity":l,"fill-opacity":n},L?(n="M0,0 L"+s+","+(a/2-a/2*A),d=" B",0<s&&(d=" A"),AmCharts.VML?n=(n+=d+Math.round(s-R)+","+Math.round(a/2-F)+","+Math.round(s+R)+","+Math.round(a/2+F)+","+s+",0,"+s+","+a)+" L0,"+a+(d+Math.round(-P))+","+Math.round(a/2-W)+","+Math.round(P)+","+Math.round(a/2+W)+",0,"+a+",0,0":(n+="A"+R+","+F+",0,0,0,"+s+","+(a-a/2*(1-A))+"L0,"+a,n+="A"+P+","+W+",0,0,1,0,0"),P=90):(n="M0,0 L"+(d=s/2-s/2*A)+","+a,AmCharts.VML?(n="M0,0 L"+d+","+a,d=" B",0>a&&(d=" A"),n+=d+Math.round(s/2-R)+","+Math.round(a-F)+","+Math.round(s/2+R)+","+Math.round(a+F)+",0,"+a+","+s+","+a,n+=" L"+s+",0",n+=d+Math.round(s/2+P)+","+Math.round(W)+","+Math.round(s/2-P)+","+Math.round(-W)+","+s+",0,0,0"):(n+="A"+R+","+F+",0,0,0,"+(s-s/2*(1-A))+","+a+"L"+s+",0",n+="A"+P+","+W+",0,0,1,0,0"),P=180),(e=e.path(n).attr(o)).gradient("linearGradient",[C,AmCharts.adjustLuminosity(C,-.3),AmCharts.adjustLuminosity(C,-.3),C],P),L?e.translate(h/2,0):e.translate(0,r/2)):e=0===a?AmCharts.line(e,[0,s],[0,0],m,l,d,g):0===s?AmCharts.line(e,[0,0],[0,a],m,l,d,g):0<u?AmCharts.rect(e,s,a,o,n,d,m,l,u,c,g):AmCharts.polygon(e,[0,0,s,s,0],[0,a,a,0,0],o,n,d,m,l,c,!1,g),s=isNaN(A)?0>a?[D,w,v,T,b,y,M,N,S,e]:[N,S,v,T,b,y,D,w,M,e]:L?0<s?[D,e,N]:[N,e,D]:0>a?[D,e,N]:[N,e,D],AmCharts.setCN(i,e,f+"front"),AmCharts.setCN(i,v,f+"back"),AmCharts.setCN(i,N,f+"top"),AmCharts.setCN(i,D,f+"bottom"),AmCharts.setCN(i,b,f+"left"),AmCharts.setCN(i,y,f+"right"),D=0;D<s.length;D++)(v=s[D])&&(t.push(v),AmCharts.setCN(i,v,f+"element"));p&&e.pattern(p)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(t,e){var i=this;i.easing=e,i.totalFrames=Math.round(1e3*t/AmCharts.updateRate),i.rh=i.h,i.frame=0,i.height(1),setTimeout(function(){i.updateHeight.call(i)},AmCharts.updateRate)},updateHeight:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rh-1,e),t.height(e),setTimeout(function(){t.updateHeight.call(t)},AmCharts.updateRate))},animateWidth:function(t,e){var i=this;i.easing=e,i.totalFrames=Math.round(1e3*t/AmCharts.updateRate),i.rw=i.w,i.frame=0,i.width(1),setTimeout(function(){i.updateWidth.call(i)},AmCharts.updateRate)},updateWidth:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e&&(e=t.easing(0,t.frame,1,t.rw-1,e),t.width(e),setTimeout(function(){t.updateWidth.call(t)},AmCharts.updateRate))}}),AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(t){this.cname="CategoryAxis",AmCharts.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.firstDayOfWeek=1,this.gridPosition="middle",this.markPeriodChange=this.boldPeriodBeginning=!0,this.safeDistance=30,this.centerLabelOnFullPeriod=!0,this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={},this.nextPeriod.fff="ss",this.nextPeriod.ss="mm",this.nextPeriod.mm="hh",this.nextPeriod.hh="DD",this.nextPeriod.DD="MM",this.nextPeriod.MM="YYYY",AmCharts.applyTheme(this,t,this.cname)},draw:function(){AmCharts.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,AmCharts.ifArray(t)){var e,i=this.chart;"scrollbar"!=this.id?(AmCharts.setCN(i,this.set,"category-axis"),AmCharts.setCN(i,this.labelsSet,"category-axis"),AmCharts.setCN(i,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var s=this.start,a=this.labelFrequency,h=0;e=this.end-s+1;var r,o,n,d,m,l,c,u=this.gridCountR,g=this.showFirstLabel,p=this.showLastLabel,A="",f=AmCharts.extractPeriod(this.minPeriod);r=AmCharts.getPeriodDuration(f.period,f.count),o=this.rotate;var C,x=this.firstDayOfWeek,D=this.boldPeriodBeginning;t=AmCharts.resetDateToMin(new Date(t[t.length-1].time+1.05*r),this.minPeriod,1,x).getTime();this.endTime>t&&(this.endTime=t),c=this.minorGridEnabled;var v,T;t=this.gridAlpha;if(this.parseDates&&!this.equalSpacing){this.timeDifference=this.endTime-this.startTime,a=(s=this.choosePeriod(0)).period,o=s.count,(n=AmCharts.getPeriodDuration(a,o))<r&&(a=f.period,o=f.count,n=r),"WW"==(d=a)&&(d="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);u=Math.ceil(this.timeDifference/n)+5;var b=A=AmCharts.resetDateToMin(new Date(this.startTime-n),a,o,x).getTime();d==a&&1==o&&this.centerLabelOnFullPeriod&&(l=n*this.stepWidth),this.cellWidth=r*this.stepWidth,s=-1,(e=Math.round(A/n))/2==Math.round(e/2)&&(s=-2,A-=n);var y=i.firstTime,M=0;if(c&&1<o&&(v=this.chooseMinorFrequency(o),T=AmCharts.getPeriodDuration(a,v)),0<this.gridCountR)for(e=s;e<=u;e++){if(f=y+n*(e+Math.floor((b-y)/n))-M,"DD"==a&&(f+=36e5),f=AmCharts.resetDateToMin(new Date(f),a,o,x).getTime(),"MM"==a&&(c=(f-A)/n,1.5<=(f-A)/n&&(f=f-(c-1)*n+AmCharts.getPeriodDuration("DD",3),f=AmCharts.resetDateToMin(new Date(f),a,1).getTime(),M+=n)),r=(f-this.startTime)*this.stepWidth,c=!1,this.nextPeriod[d]&&(c=this.checkPeriodChange(this.nextPeriod[d],1,f,A,d)),C=!1,c&&this.markPeriodChange?(c=this.dateFormatsObject[this.nextPeriod[d]],this.twoLineMode&&(c=this.dateFormatsObject[d]+"\n"+c,c=AmCharts.fixBrakes(c)),C=!0):c=this.dateFormatsObject[d],D||(C=!1),A=AmCharts.formatDate(new Date(f),c,i),(e==s&&!g||e==u&&!p)&&(A=" "),this.labelFunction&&(A=this.labelFunction(A,new Date(f),this,a,o,m).toString()),this.boldLabels&&(C=!0),m=new this.axisItemRenderer(this,r,A,!1,l,0,!1,C),this.pushAxisItem(m),m=A=f,!isNaN(v))for(r=1;r<o;r+=v)this.gridAlpha=this.minorGridAlpha,c=f+T*r,c=AmCharts.resetDateToMin(new Date(c),a,v,x).getTime(),c=new this.axisItemRenderer(this,(c-this.startTime)*this.stepWidth),this.pushAxisItem(c);this.gridAlpha=t}}else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(h=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,a=(s=this.choosePeriod(0)).period,o=s.count,(n=AmCharts.getPeriodDuration(a,o))<r&&(a=f.period,o=f.count,n=r),"WW"==(d=a)&&(d="DD"),this.stepWidth=this.getStepWidth(e),u=Math.ceil(this.timeDifference/n)+1,A=AmCharts.resetDateToMin(new Date(this.startTime-n),a,o,x).getTime(),this.cellWidth=this.getStepWidth(e),s=-1,(e=Math.round(A/n))/2==Math.round(e/2)&&(s=-2,A-=n),(r=this.start)/2==Math.round(r/2)&&r--,0>r&&(r=0),(l=this.end+2)>=this.data.length&&(l=this.data.length),T=!1,T=!g,this.previousPos=-1e3,20<this.labelRotation&&(this.safeDistance=5),n=r,this.data[r].time!=AmCharts.resetDateToMin(new Date(this.data[r].time),a,o,x).getTime())for(x=0,C=A,e=r;e<l;e++)f=this.data[e].time,this.checkPeriodChange(a,o,f,C)&&(2<=++x&&(n=e,e=l),C=f);if(c&&1<o&&(v=this.chooseMinorFrequency(o),AmCharts.getPeriodDuration(a,v)),0<this.gridCountR)for(e=r;e<l;e++)f=this.data[e].time,this.checkPeriodChange(a,o,f,A)&&e>=n?(r=this.getCoordinate(e-this.start),c=!1,this.nextPeriod[d]&&(c=this.checkPeriodChange(this.nextPeriod[d],1,f,A,d)),C=!1,c&&this.markPeriodChange?(c=this.dateFormatsObject[this.nextPeriod[d]],C=!0):c=this.dateFormatsObject[d],A=AmCharts.formatDate(new Date(f),c,i),(e==s&&!g||e==u&&!p)&&(A=" "),T?T=!1:(D||(C=!1),r-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(A=this.labelFunction(A,new Date(f),this,a,o,m)),this.boldLabels&&(C=!0),c=(m=new this.axisItemRenderer(this,r,A,void 0,void 0,void 0,void 0,C)).graphics(),this.pushAxisItem(m),m=c.getBBox().width,AmCharts.isModern||(m-=r),this.previousPos=r+m)),m=A=f):isNaN(v)||(this.checkPeriodChange(a,v,f,b)&&(this.gridAlpha=this.minorGridAlpha,r=this.getCoordinate(e-this.start),c=new this.axisItemRenderer(this,r),this.pushAxisItem(c),b=f),this.gridAlpha=t)}}else if(this.cellWidth=this.getStepWidth(e),e<u&&(u=e),h+=this.start,this.stepWidth=this.getStepWidth(e),0<u)for(D=Math.floor(e/u),v=this.chooseMinorFrequency(D),(r=h)/2==Math.round(r/2)&&r--,0>r&&(r=0),u=0,this.end-r+1>=this.autoRotateCount&&(this.labelRotation=this.autoRotateAngle),e=r;e<=this.end+2;e++){if(m=!1,0<=e&&e<this.data.length?(A=(d=this.data[e]).category,m=d.forceShow):A="",c&&!isNaN(v)){if(e/v!=Math.round(e/v)&&!m)continue;e/D==Math.round(e/D)||m||(this.gridAlpha=this.minorGridAlpha,A=void 0)}else if(e/D!=Math.round(e/D)&&!m)continue;r=this.getCoordinate(e-h),m=0,"start"==this.gridPosition&&(r-=this.cellWidth/2,m=this.cellWidth/2),x=!0,b=m,"start"==this.tickPosition&&(b=0,x=!1,m=0),(e==s&&!g||e==this.end&&!p)&&(A=void 0),Math.round(u/a)!=u/a&&(A=void 0),u++,l=this.cellWidth,o&&(l=NaN),this.labelFunction&&d&&(A=this.labelFunction(A,d,this)),A=AmCharts.fixBrakes(A),C=!1,this.boldLabels&&(C=!0),e>this.end&&"start"==this.tickPosition&&(A=" "),(m=new this.axisItemRenderer(this,r,A,x,l,m,void 0,C,b,!1,d.labelColor,d.className)).serialDataItem=d,this.pushAxisItem(m),this.gridAlpha=t}for(e=0;e<this.data.length;e++)(g=this.data[e])&&(p=this.parseDates&&!this.equalSpacing?Math.round((g.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(e-h),g.x[this.id]=p);for(g=this.guides.length,e=0;e<g;e++)D=D=D=t=s=NaN,v=(p=this.guides[e]).above,p.toCategory&&(D=i.getCategoryIndexByValue(p.toCategory),isNaN(D)||(s=this.getCoordinate(D-h),p.expand&&(s+=this.cellWidth/2),m=new this.axisItemRenderer(this,s,"",!0,NaN,NaN,p),this.pushAxisItem(m,v))),p.category&&(D=i.getCategoryIndexByValue(p.category),isNaN(D)||(t=this.getCoordinate(D-h),p.expand&&(t-=this.cellWidth/2),D=(s-t)/2,m=new this.axisItemRenderer(this,t,p.label,!0,NaN,D,p),this.pushAxisItem(m,v))),p.toDate&&(p.toDate instanceof Date||(p.toDate=AmCharts.stringToDate(p.toDate,i.dataDateFormat)),this.equalSpacing?(D=i.getClosestIndex(this.data,"time",p.toDate.getTime(),!1,0,this.data.length-1),isNaN(D)||(s=this.getCoordinate(D-h))):s=(p.toDate.getTime()-this.startTime)*this.stepWidth,m=new this.axisItemRenderer(this,s,"",!0,NaN,NaN,p),this.pushAxisItem(m,v)),p.date&&(p.date instanceof Date||(p.date=AmCharts.stringToDate(p.date,i.dataDateFormat)),this.equalSpacing?(D=i.getClosestIndex(this.data,"time",p.date.getTime(),!1,0,this.data.length-1),isNaN(D)||(t=this.getCoordinate(D-h))):t=(p.date.getTime()-this.startTime)*this.stepWidth,D=(s-t)/2,m="H"==this.orientation?new this.axisItemRenderer(this,t,p.label,!1,2*D,NaN,p):new this.axisItemRenderer(this,t,p.label,!1,NaN,D,p),this.pushAxisItem(m,v)),(0<s||0<t)&&(s<this.width||t<this.width)&&(t=(s=new this.guideFillRenderer(this,t,s,p)).graphics(),this.pushAxisItem(s,v),p.graphics=t,t.index=e,p.balloonText&&this.addEventListeners(t,p))}this.axisCreated=!0,i=this.x,h=this.y,this.set.translate(i,h),this.labelsSet.translate(i,h),this.positionTitle(),(i=this.axisLine.set)&&i.toFront(),2<(i=this.getBBox().height)-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1),this.previousHeight=i},chooseMinorFrequency:function(t){for(var e=10;0<e;e--)if(t/e==Math.round(t/e))return t/e},choosePeriod:function(t){var e=AmCharts.getPeriodDuration(this.periods[t].period,this.periods[t].count),i=Math.ceil(this.timeDifference/e),s=this.periods;return this.timeDifference<e&&0<t?s[t-1]:i<=this.gridCountR?s[t]:t+1<s.length?this.choosePeriod(t+1):s[t]},getStepWidth:function(t){var e;return this.startOnAxis?(e=this.axisWidth/(t-1),1==t&&(e=this.axisWidth)):e=this.axisWidth/t,e},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},timeZoom:function(t,e){this.startTime=t,this.endTime=e},minDuration:function(){var t=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,e,i,s,a){i=new Date(i);var h=new Date(s),r=this.firstDayOfWeek;return s=e,"DD"==t&&(e=1),i=AmCharts.resetDateToMin(i,t,e,r).getTime(),e=AmCharts.resetDateToMin(h,t,e,r).getTime(),!("DD"==t&&"hh"!=a&&i-e<=AmCharts.getPeriodDuration(t,s))&&i!=e},generateDFObject:function(){var t;for(this.dateFormatsObject={},t=0;t<this.dateFormats.length;t++){var e=this.dateFormats[t];this.dateFormatsObject[e.period]=e.format}},xToIndex:function(t){var e,i,s=this.data,a=(e=this.chart).rotate,h=this.stepWidth;return this.parseDates&&!this.equalSpacing?(t=this.startTime+Math.round(t/h)-this.minDuration()/2,e=e.getClosestIndex(s,"time",t,!1,this.start,this.end+1)):(this.startOnAxis||(t-=h/2),e=this.start+Math.round(t/h)),s[e=AmCharts.fitToBounds(e,0,s.length-1)]&&(i=s[e].x[this.id]),a?i>this.height+1&&e--:i>this.width+1&&e--,0>i&&e++,AmCharts.fitToBounds(e,0,s.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?(t=this.chart.getCategoryIndexByValue(t),this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)}});